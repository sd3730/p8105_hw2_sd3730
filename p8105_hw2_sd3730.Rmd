---
title: "p8105_hw2_sd3730"
author: "Stacey Dai"
output: github_document
---

# Question 1

This code is used to set up the RMarkdown file and load necessary packages.
```{r setup, message = FALSE}
library(tidyverse)
library(dplyr)
```

This code is to read and clean the data, keep variables, and convert the entry variable from character to logical variable.
```{r cleanup, message = FALSE, results = 'hide'}
transit_data = read.csv("./NYC_Transit_Subway_Entrance_And_Exit_Data.csv", 
                          na = c("NA", ".","")) |>
  janitor::clean_names() |>
  select(line, station_name, station_latitude, station_longitude, starts_with("route"), entry,
         vending, entrance_type, ada) |>
    mutate(entry = ifelse(entry == "YES", TRUE, FALSE)) 
```

### Dataset Description

The NYC Transit dataset contains details about the stations, including station name and location, routes served by the stations, entrance and exits for each subway station in New York City. The dataset also contains information about vending machines in the station and ADA. 

The data cleaning steps involved reading the CSV file, cleaning the column names using janitor, selecting relevant columns, and converting the entry variable from character values ("YES"/"NO") to a logical variable (TRUE/FALSE). The resulting dataset has dimensions of `r nrow(transit_data)` rows and `r ncol(transit_data)` columns. The dataset is considered tidy as each variable forms a column, each observation forms a row, and each type of observational unit is a table.

### How many distinct stations are there?
```{r stations_count, message = FALSE, results = 'hide'}
distinct_stations_count = transit_data |>
  distinct (station_name, line) |>
  nrow()
distinct_stations_count
```
There are `r distinct_stations_count` distinct subway stations.

### How many stations are ADA compliant? 
```{r ada_count, message = FALSE, results = 'hide'}
ada_compliant_count = transit_data |>
  filter(ada == TRUE) |>
  nrow()
ada_compliant_count
```
There are `r ada_compliant_count` stations that are ADA compliant.

### What proportion of station entrances / exits without vending allow entrance?
```{r no_vending, message = FALSE, results = 'hide'}
no_vending_proportion = transit_data |>
  filter(vending == "NO") |>
  summarise(proportion_entry_allowed = mean(entry, na.rm = TRUE)) |>
  pull(proportion_entry_allowed)

no_vending_proportion
```
Proportion of Entrances/Exits without Vending that Allow Entrance: `r no_vending_proportion` of entrances/exits without vending allow entrance.

